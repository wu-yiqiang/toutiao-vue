{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\search\\components\\search-result.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\search\\components\\search-result.vue","mtime":1614511268604},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy93aW5kb3dzL1Byb2plY3QvdG91dGlhb21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy93aW5kb3dzL1Byb2plY3QvdG91dGlhb21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIOi/memHjOWPr+S7peWvvOWFpeWFtuS7luaWh+S7tu+8iOavlOWmgu+8mue7hOS7tu+8jOW3peWFt2pz77yM56ys5LiJ5pa55o+S5Lu2anPvvIxqc29u5paH5Lu277yM5Zu+54mH5paH5Lu2562J562J77yJCmltcG9ydCB7IGdldFNlYXJjaFJlc3VsdHMgfSBmcm9tICdAL2FwaS9zZWFyY2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlYXJjaFJlc3VsdCcsCiAgY29tcG9uZW50czoge30sCiAgLy8g5a6a5LmJ5bGe5oCnCiAgcHJvcHM6IHsKICAgIHNlYXJjaFRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlcnBhZ2U6IDEwLAogICAgICBlcnJvcjogZmFsc2UKICAgIH07CiAgfSwKICAvLyDorqHnrpflsZ7mgKfvvIzkvJrnm5HlkKzkvp3otZblsZ7mgKflgLzpmo/kuYvlj5jljJYKICBjb21wdXRlZDoge30sCiAgLy8g55uR5o6nZGF0YeS4reeahOaVsOaNruWPmOWMlgogIHdhdGNoOiB7fSwKICAvLyDmlrnms5Xpm4blkIgKICBtZXRob2RzOiB7CiAgICBvbkxvYWQ6IGZ1bmN0aW9uIG9uTG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzJGxpc3QsIF95aWVsZCRnZXRTZWFyY2hSZXN1bCwgZGF0YSwgcmVzdWx0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFNlYXJjaFJlc3VsdHMoewogICAgICAgICAgICAgICAgICBwYWdlOiBfdGhpcy5wYWdlLAogICAgICAgICAgICAgICAgICBwZXJfcGFnZTogX3RoaXMucGVycGFnZSwKICAgICAgICAgICAgICAgICAgcTogX3RoaXMuc2VhcmNoVGV4dAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRTZWFyY2hSZXN1bCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldFNlYXJjaFJlc3VsLmRhdGE7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBkYXRhLmRhdGEucmVzdWx0OwoKICAgICAgICAgICAgICAgIChfdGhpcyRsaXN0ID0gX3RoaXMubGlzdCkucHVzaC5hcHBseShfdGhpcyRsaXN0LCBfdG9Db25zdW1hYmxlQXJyYXkocmVzdWx0KSk7CgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMucGFnZSsrOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QoJ+iOt+WPluaQnOe0oue7k+aenOWksei0pe+8gScpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjlj6/ku6Xorr/pl67lvZPliY10aGlz5a6e5L6L77yJCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOaMgui9veWujOaIkO+8iOWPr+S7peiuv+mXrkRPTeWFg+e0oO+8iQogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOWIm+W7uuS5i+WJjQogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOaMgui9veS5i+WJjQogIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5pu05paw5LmL5YmNCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOabtOaWsOS5i+WQjgogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDplIDmr4HkuYvliY0KICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOmUgOavgeWujOaIkAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkge30gLy8g5aaC5p6c6aG16Z2i5pyJa2VlcC1hbGl2Zee8k+WtmOWKn+iDve+8jOi/meS4quWHveaVsOS8muinpuWPkQoKfTs="},{"version":3,"sources":["search-result.vue"],"names":[],"mappings":";;;;;;;;;;;AASA;AACA,SAAA,gBAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAJA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAnBA;AAoBA;AACA,EAAA,QAAA,EAAA,EArBA;AAsBA;AACA,EAAA,KAAA,EAAA,EAvBA;AAwBA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAIA,gBAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,KAAA,CAAA,IAAA;AAAA,kBAAA,QAAA,EAAA,KAAA,CAAA,OAAA;AAAA,kBAAA,CAAA,EAAA,KAAA,CAAA;AAAA,iBAAA,CAJA;;AAAA;AAAA;AAIA,gBAAA,IAJA,yBAIA,IAJA;AAKA,gBAAA,MALA,GAKA,IAAA,CAAA,IALA,CAKA,MALA;;AAMA,8BAAA,KAAA,CAAA,IAAA,EAAA,IAAA,sCAAA,MAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,oBAAA,MAAA,CAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AAbA;AAAA;;AAAA;AAAA;AAAA;AAeA,gBAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,WAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AApBA,GAzBA;AA+CA;AACA,EAAA,OAhDA,qBAgDA,CACA,CAjDA;AAkDA;AACA,EAAA,OAnDA,qBAmDA,CAAA,CAnDA;AAoDA,EAAA,YApDA,0BAoDA,CAAA,CApDA;AAoDA;AACA,EAAA,WArDA,yBAqDA,CAAA,CArDA;AAqDA;AACA,EAAA,YAtDA,0BAsDA,CAAA,CAtDA;AAsDA;AACA,EAAA,OAvDA,qBAuDA,CAAA,CAvDA;AAuDA;AACA,EAAA,aAxDA,2BAwDA,CAAA,CAxDA;AAwDA;AACA,EAAA,SAzDA,uBAyDA,CAAA,CAzDA;AAyDA;AACA,EAAA,SA1DA,uBA0DA,CAAA,CA1DA,CA0DA;;AA1DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"search-result\">\r\n    <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" :error.sync=\"error\" error-text=\"加载搜索结果失败，请稍后重试！\" @load=\"onLoad\">\r\n      <van-cell v-for=\"(item, index) in list\" :key=\"index\" :title=\"item.title\" />\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport { getSearchResults } from '@/api/search'\r\nexport default {\r\n  name: 'SearchResult',\r\n  components: {},\r\n  // 定义属性\r\n  props: {\r\n    searchText: {\r\n      type: String,\r\n      require: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      page: 1,\r\n      perpage: 10,\r\n      error: false\r\n    }\r\n  },\r\n  // 计算属性，会监听依赖属性值随之变化\r\n  computed: {},\r\n  // 监控data中的数据变化\r\n  watch: {},\r\n  // 方法集合\r\n  methods: {\r\n    async onLoad () {\r\n      // 异步更新数据\r\n      // setTimeout 仅做示例，真实场景中一般为 ajax 请求\r\n      try {\r\n        const { data } = await getSearchResults({ page: this.page, per_page: this.perpage, q: this.searchText })\r\n        const { result } = data.data\r\n        this.list.push(...result)\r\n        this.loading = false\r\n        console.log(data)\r\n        if (result.length) {\r\n          this.page++\r\n        } else {\r\n          this.finished = true\r\n        }\r\n      } catch (error) {\r\n        this.error = true\r\n        this.loading = false\r\n        this.$toast('获取搜索结果失败！')\r\n      }\r\n    }\r\n  },\r\n  // 生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n  },\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {},\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n</style>\r\n"],"sourceRoot":"src/views/search/components"}]}