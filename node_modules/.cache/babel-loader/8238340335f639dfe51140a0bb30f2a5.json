{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\search\\components\\search-result.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\search\\components\\search-result.vue","mtime":1614939662694},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy93aW5kb3dzL1Byb2plY3QvdG91dGlhb21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy93aW5kb3dzL1Byb2plY3QvdG91dGlhb21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIOi/memHjOWPr+S7peWvvOWFpeWFtuS7luaWh+S7tu+8iOavlOWmgu+8mue7hOS7tu+8jOW3peWFt2pz77yM56ys5LiJ5pa55o+S5Lu2anPvvIxqc29u5paH5Lu277yM5Zu+54mH5paH5Lu2562J562J77yJCmltcG9ydCB7IGdldFNlYXJjaFJlc3VsdHMgfSBmcm9tICdAL2FwaS9zZWFyY2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlYXJjaFJlc3VsdCcsCiAgY29tcG9uZW50czoge30sCiAgLy8g5a6a5LmJ5bGe5oCnCiAgcHJvcHM6IHsKICAgIHNlYXJjaFRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlcnBhZ2U6IDEwLAogICAgICBlcnJvcjogZmFsc2UKICAgIH07CiAgfSwKICAvLyDorqHnrpflsZ7mgKfvvIzkvJrnm5HlkKzkvp3otZblsZ7mgKflgLzpmo/kuYvlj5jljJYKICBjb21wdXRlZDoge30sCiAgLy8g55uR5o6nZGF0YeS4reeahOaVsOaNruWPmOWMlgogIHdhdGNoOiB7fSwKICAvLyDmlrnms5Xpm4blkIgKICBtZXRob2RzOiB7CiAgICBvbkxvYWQ6IGZ1bmN0aW9uIG9uTG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzJGxpc3QsIF95aWVsZCRnZXRTZWFyY2hSZXN1bCwgZGF0YSwgcmVzdWx0czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc2VhcmNoVGV4dC5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2VhcmNoUmVzdWx0cyh7CiAgICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzLnBhZ2UsCiAgICAgICAgICAgICAgICAgIHBlcl9wYWdlOiBfdGhpcy5wZXJwYWdlLAogICAgICAgICAgICAgICAgICBxOiBfdGhpcy5zZWFyY2hUZXh0CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJGdldFNlYXJjaFJlc3VsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0U2VhcmNoUmVzdWwuZGF0YTsKICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBkYXRhLmRhdGEucmVzdWx0czsKCiAgICAgICAgICAgICAgICAoX3RoaXMkbGlzdCA9IF90aGlzLmxpc3QpLnB1c2guYXBwbHkoX3RoaXMkbGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KHJlc3VsdHMpKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBhZ2UrKzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0KCfojrflj5bmkJzntKLnu5PmnpzlpLHotKXvvIEnKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5Yib5bu65a6M5oiQ77yI5Y+v5Lul6K6/6Zeu5b2T5YmNdGhpc+WunuS+i++8iQogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjlj6/ku6Xorr/pl65ET03lhYPntKDvvIkKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rkuYvliY0KICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3kuYvliY0KICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOabtOaWsOS5i+WJjQogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvlkI4KICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5LmL5YmNCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDplIDmr4HlrozmiJAKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHt9IC8vIOWmguaenOmhtemdouaciWtlZXAtYWxpdmXnvJPlrZjlip/og73vvIzov5nkuKrlh73mlbDkvJrop6blj5EKCn07"},{"version":3,"sources":["search-result.vue"],"names":[],"mappings":";;;;;;;;;;;AASA;AACA,SAAA,gBAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAJA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAnBA;AAoBA;AACA,EAAA,QAAA,EAAA,EArBA;AAsBA;AACA,EAAA,KAAA,EAAA,EAvBA;AAwBA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGA,KAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAHA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAKA,gBAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,KAAA,CAAA,IAAA;AAAA,kBAAA,QAAA,EAAA,KAAA,CAAA,OAAA;AAAA,kBAAA,CAAA,EAAA,KAAA,CAAA;AAAA,iBAAA,CALA;;AAAA;AAAA;AAKA,gBAAA,IALA,yBAKA,IALA;AAMA,gBAAA,OANA,GAMA,IAAA,CAAA,IANA,CAMA,OANA;;AAOA,8BAAA,KAAA,CAAA,IAAA,EAAA,IAAA,sCAAA,OAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,oBAAA,OAAA,CAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AAbA;AAAA;;AAAA;AAAA;AAAA;AAeA,gBAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,WAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AArBA,GAzBA;AAgDA;AACA,EAAA,OAjDA,qBAiDA,CACA,CAlDA;AAmDA;AACA,EAAA,OApDA,qBAoDA,CAAA,CApDA;AAqDA,EAAA,YArDA,0BAqDA,CAAA,CArDA;AAqDA;AACA,EAAA,WAtDA,yBAsDA,CAAA,CAtDA;AAsDA;AACA,EAAA,YAvDA,0BAuDA,CAAA,CAvDA;AAuDA;AACA,EAAA,OAxDA,qBAwDA,CAAA,CAxDA;AAwDA;AACA,EAAA,aAzDA,2BAyDA,CAAA,CAzDA;AAyDA;AACA,EAAA,SA1DA,uBA0DA,CAAA,CA1DA;AA0DA;AACA,EAAA,SA3DA,uBA2DA,CAAA,CA3DA,CA2DA;;AA3DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"search-result\">\r\n    <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" :error.sync=\"error\" error-text=\"加载搜索结果失败，请稍后重试！\" @load=\"onLoad\">\r\n      <van-cell v-for=\"(item, index) in list\" :key=\"index\" :title=\"item.title\" />\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport { getSearchResults } from '@/api/search'\r\nexport default {\r\n  name: 'SearchResult',\r\n  components: {},\r\n  // 定义属性\r\n  props: {\r\n    searchText: {\r\n      type: String,\r\n      require: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      page: 1,\r\n      perpage: 10,\r\n      error: false\r\n    }\r\n  },\r\n  // 计算属性，会监听依赖属性值随之变化\r\n  computed: {},\r\n  // 监控data中的数据变化\r\n  watch: {},\r\n  // 方法集合\r\n  methods: {\r\n    async onLoad () {\r\n      // 异步更新数据\r\n      // setTimeout 仅做示例，真实场景中一般为 ajax 请求\r\n      if (this.searchText.length > 0) {\r\n        try {\r\n          const { data } = await getSearchResults({ page: this.page, per_page: this.perpage, q: this.searchText })\r\n          const { results } = data.data\r\n          this.list.push(...results)\r\n          this.loading = false\r\n          if (results.length) {\r\n            this.page++\r\n          } else {\r\n            this.finished = true\r\n          }\r\n        } catch (error) {\r\n          this.error = true\r\n          this.loading = false\r\n          this.$toast('获取搜索结果失败！')\r\n        }\r\n      }\r\n    }\r\n  },\r\n  // 生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n  },\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {},\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.search-result {\r\n  margin-top:104px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/search/components"}]}