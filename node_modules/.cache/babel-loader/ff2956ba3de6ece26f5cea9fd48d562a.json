{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\windows\\Project\\toutiaomobile\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\utils\\request.js","mtime":1614057125851},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vdHRhcGkucmVzZWFyY2guaXRjYXN0LmNuJwp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8qIOivt+axguaLpuaIquWZqCAqLwogIC8vIOivt+axguaIkOWKnwogIHZhciB1c2VyID0gc3RvcmUuc3RhdGUudXNlcjsKCiAgaWYgKHVzZXIgJiYgdXNlci50b2tlbikgewogICAgLy8g5re75YqgdG9rZW7liLDor7fmsYLlpLTkuK0KICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiQmVhcmVyICIuY29uY2F0KHVzZXIudG9rZW4pOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8g6K+35rGC5aSx6LSlCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["C:/Users/windows/Project/toutiaomobile/src/utils/request.js"],"names":["axios","store","request","create","baseURL","interceptors","use","config","user","state","token","headers","Authorization","error","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAE;AADkB,CAAb,CAAhB;AAIAF,OAAO,CAACG,YAAR,CAAqBH,OAArB,CAA6BI,GAA7B,CAAiC,UAAUC,MAAV,EAAkB;AACjD;AACA;AAFiD,MAGzCC,IAHyC,GAGhCP,KAAK,CAACQ,KAH0B,CAGzCD,IAHyC;;AAIjD,MAAIA,IAAI,IAAIA,IAAI,CAACE,KAAjB,EAAwB;AACtB;AACAH,IAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,oBAAyCJ,IAAI,CAACE,KAA9C;AACD;;AACD,SAAOH,MAAP;AACD,CATD,EASG,UAAUM,KAAV,EAAiB;AAClB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAZD;AAcA,eAAeX,OAAf","sourcesContent":["import axios from 'axios'\r\nimport store from '@/store'\r\n\r\nconst request = axios.create({\r\n  baseURL: 'http://ttapi.research.itcast.cn'\r\n})\r\n\r\nrequest.interceptors.request.use(function (config) {\r\n  /* 请求拦截器 */\r\n  // 请求成功\r\n  const { user } = store.state\r\n  if (user && user.token) {\r\n    // 添加token到请求头中\r\n    config.headers.Authorization = `Bearer ${user.token}`\r\n  }\r\n  return config\r\n}, function (error) {\r\n  // 请求失败\r\n  return Promise.reject(error)\r\n})\r\n\r\nexport default request\r\n"]}]}