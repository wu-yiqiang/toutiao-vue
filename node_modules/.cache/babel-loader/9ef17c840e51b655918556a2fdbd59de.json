{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\toutiaomobile\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\utils\\request.js","mtime":1614002151849},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICJodHRwOi8vdHRhcGkucmVzZWFyY2guaXRjYXN0LmNuIgp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8qIOivt+axguaLpuaIquWZqCAqLwogIC8vIOivt+axguaIkOWKnwogIHZhciB1c2VyID0gc3RvcmUuc3RhdGUudXNlcjsKCiAgaWYgKHVzZXIgJiYgdXNlci50b2tlbikgewogICAgLy/mt7vliqB0b2tlbuWIsOivt+axguWktOS4rQogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQodXNlci50b2tlbik7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDor7fmsYLlpLHotKUKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcmVxdWVzdDs="},{"version":3,"sources":["C:/Users/windows/Project/toutiaomobile/src/utils/request.js"],"names":["axios","store","request","create","baseURL","interceptors","use","config","user","state","token","headers","Authorization","error","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAE;AADkB,CAAb,CAAhB;AAIAF,OAAO,CAACG,YAAR,CAAqBH,OAArB,CAA6BI,GAA7B,CAAiC,UAAUC,MAAV,EAAkB;AACjD;AACA;AAFiD,MAGzCC,IAHyC,GAGhCP,KAAK,CAACQ,KAH0B,CAGzCD,IAHyC;;AAIjD,MAAIA,IAAI,IAAIA,IAAI,CAACE,KAAjB,EAAwB;AACtB;AACAH,IAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,oBAAuCJ,IAAI,CAACE,KAA5C;AACD;;AACD,SAAOH,MAAP;AACD,CATD,EASG,UAAUM,KAAV,EAAiB;AAClB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAZD;AAeA,eAAeX,OAAf","sourcesContent":["import axios from \"axios\"\r\nimport store from '@/store'\r\n\r\nconst request = axios.create({\r\n  baseURL: \"http://ttapi.research.itcast.cn\"\r\n})\r\n\r\nrequest.interceptors.request.use(function (config) {\r\n  /* 请求拦截器 */\r\n  // 请求成功\r\n  const { user } = store.state\r\n  if (user && user.token) {\r\n    //添加token到请求头中\r\n    config.headers.Authorization=`Bearer ${user.token}`\r\n  }\r\n  return config\r\n}, function (error) {\r\n  // 请求失败\r\n  return Promise.reject(error);\r\n})\r\n\r\n\r\nexport default request\r\n"]}]}