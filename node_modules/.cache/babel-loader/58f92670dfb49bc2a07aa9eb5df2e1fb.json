{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\search\\components\\search-suggestting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\search\\components\\search-suggestting.vue","mtime":1614502629760},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy93aW5kb3dzL1Byb2plY3QvdG91dGlhb21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIOi/memHjOWPr+S7peWvvOWFpeWFtuS7luaWh+S7tu+8iOavlOWmgu+8mue7hOS7tu+8jOW3peWFt2pz77yM56ys5LiJ5pa55o+S5Lu2anPvvIxqc29u5paH5Lu277yM5Zu+54mH5paH5Lu2562J562J77yJCmltcG9ydCB7IGdldFNlYXJjaFN1Z2dlc3Rpb25zIH0gZnJvbSAnQC9hcGkvc2VhcmNoLmpzJzsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlYXJjaFN1Z2dlc3Rpb24nLAogIGNvbXBvbmVudHM6IHt9LAogIC8vIOWumuS5ieWxnuaApwogIHByb3BzOiB7CiAgICBzZWFyY2hUZXh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZTogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1Z2dlc3Rpb25zOiBbXSwKICAgICAgaHRtbFN0cjogJzxzcGFuIHN0eWxlPSJjb2xvcjpyZWQiPmFzYWQ8c3Bhbj4nCiAgICB9OwogIH0sCiAgLy8g6K6h566X5bGe5oCn77yM5Lya55uR5ZCs5L6d6LWW5bGe5oCn5YC86ZqP5LmL5Y+Y5YyWCiAgY29tcHV0ZWQ6IHt9LAogIC8vIOebkeaOp2RhdGHkuK3nmoTmlbDmja7lj5jljJYKICB3YXRjaDogewogICAgc2VhcmNoVGV4dDogewogICAgICAvLyDnm5Hop4bku47niLbnu4Tku7bkuIrkvKDkuIvmnaXnmoTmlbDmja4KICAgICAgaGFuZGxlcjogZGVib3VuY2UoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5sb2FkU2VhcmNoU3VnZ2VzdGlvbnModmFsdWUpOwogICAgICB9LCAxMDAwKSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICAvLyDmlrnms5Xpm4blkIgKICBtZXRob2RzOiB7CiAgICBsb2FkU2VhcmNoU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIGxvYWRTZWFyY2hTdWdnZXN0aW9ucyhxKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkZ2V0U2VhcmNoU3VnZ2UsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2VhcmNoU3VnZ2VzdGlvbnMocSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRTZWFyY2hTdWdnZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldFNlYXJjaFN1Z2dlLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5zdWdnZXN0aW9ucyA9IGRhdGEuZGF0YS5vcHRpb25zOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QoJ+iOt+WPluaQnOe0ouW7uuiuruWksei0pe+8gScpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoaWdodGxpZ2h0OiBmdW5jdGlvbiBoaWdodGxpZ2h0KHRleHQpIHsKICAgICAgLyog5bCG5pCc57Si5bu66K6u5a2X56ym6L+b6KGM6auY5Lqu5pi+56S6ICovCiAgICAgIHZhciBTdHIgPSAiPHNwYW4gY2xhc3M9XCJhY3RpdmVcIj4iLmNvbmNhdCh0aGlzLnNlYXJjaFRleHQsICI8L3NwYW4+Iik7CiAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKHRoaXMuc2VhcmNoVGV4dCwgJ2dpJyk7CiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UocmVnLCBTdHIpOwogICAgfQogIH0sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5Yib5bu65a6M5oiQ77yI5Y+v5Lul6K6/6Zeu5b2T5YmNdGhpc+WunuS+i++8iQogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjlj6/ku6Xorr/pl65ET03lhYPntKDvvIkKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rkuYvliY0KICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3kuYvliY0KICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOabtOaWsOS5i+WJjQogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvlkI4KICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5LmL5YmNCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDplIDmr4HlrozmiJAKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHt9IC8vIOWmguaenOmhtemdouaciWtlZXAtYWxpdmXnvJPlrZjlip/og73vvIzov5nkuKrlh73mlbDkvJrop6blj5EKCn07"},{"version":3,"sources":["search-suggestting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAUA;AACA,SAAA,oBAAA,QAAA,iBAAA;AACA,SAAA,QAAA,QAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAJA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAfA;AAgBA;AACA,EAAA,QAAA,EAAA,EAjBA;AAkBA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA;AACA,MAAA,OAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,aAAA,qBAAA,CAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAFA;AAKA,MAAA,SAAA,EAAA;AALA;AADA,GAnBA;AA4BA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,qBADA,iCACA,CADA,EACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,oBAAA,CAAA,CAAA,CAHA;;AAAA;AAAA;AAGA,gBAAA,IAHA,yBAGA,IAHA;AAIA,gBAAA,KAAA,CAAA,WAAA,GAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;;AAMA,gBAAA,KAAA,CAAA,MAAA,CAAA,WAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KATA;AAUA,IAAA,UAVA,sBAUA,IAVA,EAUA;AACA;AACA,UAAA,GAAA,oCAAA,KAAA,UAAA,YAAA;AACA,UAAA,GAAA,GAAA,IAAA,MAAA,CAAA,KAAA,UAAA,EAAA,IAAA,CAAA;AACA,aAAA,IAAA,CAAA,OAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA;AAfA,GA7BA;AA8CA;AACA,EAAA,OA/CA,qBA+CA,CAAA,CA/CA;AAgDA;AACA,EAAA,OAjDA,qBAiDA,CAAA,CAjDA;AAkDA,EAAA,YAlDA,0BAkDA,CAAA,CAlDA;AAkDA;AACA,EAAA,WAnDA,yBAmDA,CAAA,CAnDA;AAmDA;AACA,EAAA,YApDA,0BAoDA,CAAA,CApDA;AAoDA;AACA,EAAA,OArDA,qBAqDA,CAAA,CArDA;AAqDA;AACA,EAAA,aAtDA,2BAsDA,CAAA,CAtDA;AAsDA;AACA,EAAA,SAvDA,uBAuDA,CAAA,CAvDA;AAuDA;AACA,EAAA,SAxDA,uBAwDA,CAAA,CAxDA,CAwDA;;AAxDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"search-suggestion\">\r\n    <van-cell icon=\"search\" v-for=\"(item, index) in suggestions\" :key=\"index\" @click=\"$emit('search', text)\">\r\n      <div slot=\"title\" v-html=\"hightlight(item)\">\r\n      </div>\r\n    </van-cell>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport { getSearchSuggestions } from '@/api/search.js'\r\nimport { debounce } from 'lodash'\r\nexport default {\r\n  name: 'SearchSuggestion',\r\n  components: {},\r\n  // 定义属性\r\n  props: {\r\n    searchText: {\r\n      type: String,\r\n      require: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      suggestions: [],\r\n      htmlStr: '<span style=\"color:red\">asad<span>'\r\n    }\r\n  },\r\n  // 计算属性，会监听依赖属性值随之变化\r\n  computed: {},\r\n  // 监控data中的数据变化\r\n  watch: {\r\n    searchText: {\r\n      // 监视从父组件上传下来的数据\r\n      handler: debounce(function (value) {\r\n        this.loadSearchSuggestions(value)\r\n      }, 1000),\r\n      immediate: true\r\n    }\r\n  },\r\n  // 方法集合\r\n  methods: {\r\n    async loadSearchSuggestions (q) {\r\n      /* 获取搜素建议返回的数据 */\r\n      try {\r\n        const { data } = await getSearchSuggestions(q)\r\n        this.suggestions = data.data.options\r\n      } catch (error) {\r\n        this.$toast('获取搜索建议失败！')\r\n      }\r\n    },\r\n    hightlight (text) {\r\n      /* 将搜索建议字符进行高亮显示 */\r\n      const Str = `<span class=\"active\">${this.searchText}</span>`\r\n      const reg = new RegExp(this.searchText, 'gi')\r\n      return text.replace(reg, Str)\r\n    }\r\n  },\r\n  // 生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {},\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {},\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.search-suggestion{\r\n  /deep/ span.active{\r\n    color: red;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/search/components"}]}