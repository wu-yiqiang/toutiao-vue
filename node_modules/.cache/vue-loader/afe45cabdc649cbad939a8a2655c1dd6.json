{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\user-profile\\index.vue?vue&type=style&index=0&id=63963104&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\user-profile\\index.vue","mtime":1615042172557},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnVzZXItcHJvZmlsZXsNCiAgLmF2YXRhcnsNCiAgICB3aWR0aDogNjBweDsNCiAgICBoZWlnaHQ6IDYwcHg7DQogIH0NCiAgLnZhbi1wb3B1cHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2Y5Ow0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/user-profile","sourcesContent":["<template>\r\n  <div class=\"user-profile\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar title=\"个人中心\" class=\"page-nav-bar\" left-arrow @click-left=\"$router.back()\" />\r\n    <!-- /导航栏 -->\r\n    <!-- 个人信息 -->\r\n    <input type=\"file\" hidden ref=\"file\" @change=\"onFileChange\">\r\n    <van-cell title=\"头像\" value=\"内容\" is-link  @click=\"$refs.file.click()\">\r\n      <van-image class=\"avatar\" :src=\"user.photo\" round/>\r\n    </van-cell>\r\n    <van-cell title=\"昵称\" :value=\"user.name\" is-link @click=\"isUpdataNameShow = true\"/>\r\n    <van-cell title=\"性别\" :value=\"user.gender > 0 ? '女' : '男'\" is-link @click=\"isUpdataGenderShow = true\"/>\r\n    <van-cell title=\"生日\" :value=\"user.birthday\" is-link @click=\"isUpdataDateShow = true\"/>\r\n    <!-- 个人信息 -->\r\n    <!-- 编辑头像 -->\r\n    <van-popup v-model=\"isUpdataPhotoShow\" position=\"bottom\" :style=\"{ height: '100%' }\" >\r\n      <UpdatePhoto :image=\"img\" @close=\"isUpdataPhotoShow = false\" v-if=\"isUpdataPhotoShow\" @udpate-photo=\"user.photo = $event\"></UpdatePhoto>\r\n    </van-popup>\r\n    <!-- /编辑头像 -->\r\n    <!-- 编辑昵称弹出层 -->\r\n    <van-popup v-model=\"isUpdataNameShow\" position=\"bottom\" :style=\"{ height: '100%' }\" >\r\n      <UpdateName v-model=\"user.name\" @close=\"isUpdataNameShow = false\" v-if=\"isUpdataNameShow\"></UpdateName>\r\n    </van-popup>\r\n    <!-- /编辑昵称弹出层 -->\r\n\r\n    <!-- 编辑性别 -->\r\n    <van-popup v-model=\"isUpdataGenderShow\" position=\"bottom\" :style=\"{ height: '50%' }\" >\r\n      <UpdateGender v-model=\"user.gender\" @close=\"isUpdataGenderShow = false\" v-if=\"isUpdataGenderShow\"></UpdateGender>\r\n    </van-popup>\r\n    <!-- /编辑性别 -->\r\n    <!-- 编辑日期 -->\r\n    <van-popup v-model=\"isUpdataDateShow\" position=\"bottom\" :style=\"{ height: '50%' }\" >\r\n      <UpdateBirthday v-model=\"user.birthday\" @close=\"isUpdataDateShow = false\" v-if=\"isUpdataDateShow\"></UpdateBirthday>\r\n    </van-popup>\r\n    <!-- /编辑日期 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport { getUserProfile } from '@/api/user'\r\nimport UpdateName from './comments/update-name'\r\nimport UpdateGender from './comments/update-gender'\r\nimport UpdateBirthday from './comments/update-birthday'\r\nimport UpdatePhoto from './comments/update-photo'\r\nexport default {\r\n  name: 'UserProfile',\r\n  components: {\r\n    UpdateName,\r\n    UpdateGender,\r\n    UpdateBirthday,\r\n    UpdatePhoto\r\n  },\r\n  // 定义属性\r\n  model: {},\r\n  props: {},\r\n  data () {\r\n    return {\r\n      user: {}, // 用户的个人信息\r\n      isUpdataNameShow: false, // 昵称弹出层控制位\r\n      isUpdataGenderShow: false,\r\n      isUpdataDateShow: false,\r\n      isUpdataPhotoShow: false,\r\n      img: null\r\n    }\r\n  },\r\n  // 计算属性，会监听依赖属性值随之变化\r\n  computed: {},\r\n  // 监控data中的数据变化\r\n  watch: {},\r\n  // 方法集合\r\n  methods: {\r\n    async loadUserProfile () {\r\n      /* 获取用户的个人信息 */\r\n      try {\r\n        const { data } = await getUserProfile()\r\n        this.user = data.data\r\n        console.log(this.user)\r\n      } catch (error) {\r\n        this.$toast({ message: '获取用户信息失败!', duration: 500 })\r\n      }\r\n    },\r\n    onFileChange () {\r\n      /* 上传文件 */\r\n      const file = this.$refs.file.files[0]\r\n      this.img = window.URL.createObjectURL(file)\r\n      this.isUpdataPhotoShow = true\r\n      this.$refs.file.value = ''\r\n    }\r\n  },\r\n  // 生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    this.loadUserProfile()\r\n  },\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {},\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.user-profile{\r\n  .avatar{\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .van-popup{\r\n    background-color: #f5f7f9;\r\n  }\r\n}\r\n</style>\r\n"]}]}