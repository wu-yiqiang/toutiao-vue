{"remainingRequest":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\user-profile\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\src\\views\\user-profile\\index.vue","mtime":1615040016983},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\toutiaomobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDov5nph4zlj6/ku6Xlr7zlhaXlhbbku5bmlofku7bvvIjmr5TlpoLvvJrnu4Tku7bvvIzlt6Xlhbdqc++8jOesrOS4ieaWueaPkuS7tmpz77yManNvbuaWh+S7tu+8jOWbvueJh+aWh+S7tuetieetie+8iQ0KaW1wb3J0IHsgZ2V0VXNlclByb2ZpbGUgfSBmcm9tICdAL2FwaS91c2VyJw0KaW1wb3J0IFVwZGF0ZU5hbWUgZnJvbSAnLi9jb21tZW50cy91cGRhdGUtbmFtZScNCmltcG9ydCBVcGRhdGVHZW5kZXIgZnJvbSAnLi9jb21tZW50cy91cGRhdGUtZ2VuZGVyJw0KaW1wb3J0IFVwZGF0ZUJpcnRoZGF5IGZyb20gJy4vY29tbWVudHMvdXBkYXRlLWJpcnRoZGF5Jw0KaW1wb3J0IFVwZGF0ZVBob3RvIGZyb20gJy4vY29tbWVudHMvdXBkYXRlLXBob3RvJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVXNlclByb2ZpbGUnLA0KICBjb21wb25lbnRzOiB7DQogICAgVXBkYXRlTmFtZSwNCiAgICBVcGRhdGVHZW5kZXIsDQogICAgVXBkYXRlQmlydGhkYXksDQogICAgVXBkYXRlUGhvdG8NCiAgfSwNCiAgLy8g5a6a5LmJ5bGe5oCnDQogIG1vZGVsOiB7fSwNCiAgcHJvcHM6IHt9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcjoge30sIC8vIOeUqOaIt+eahOS4quS6uuS/oeaBrw0KICAgICAgaXNVcGRhdGFOYW1lU2hvdzogZmFsc2UsIC8vIOaYteensOW8ueWHuuWxguaOp+WItuS9jQ0KICAgICAgaXNVcGRhdGFHZW5kZXJTaG93OiBmYWxzZSwNCiAgICAgIGlzVXBkYXRhRGF0ZVNob3c6IGZhbHNlLA0KICAgICAgaXNVcGRhdGFQaG90b1Nob3c6IGZhbHNlLA0KICAgICAgaW1nOiBudWxsDQogICAgfQ0KICB9LA0KICAvLyDorqHnrpflsZ7mgKfvvIzkvJrnm5HlkKzkvp3otZblsZ7mgKflgLzpmo/kuYvlj5jljJYNCiAgY29tcHV0ZWQ6IHt9LA0KICAvLyDnm5HmjqdkYXRh5Lit55qE5pWw5o2u5Y+Y5YyWDQogIHdhdGNoOiB7fSwNCiAgLy8g5pa55rOV6ZuG5ZCIDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBsb2FkVXNlclByb2ZpbGUgKCkgew0KICAgICAgLyog6I635Y+W55So5oi355qE5Liq5Lq65L+h5oGvICovDQogICAgICB0cnkgew0KICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKCkNCiAgICAgICAgdGhpcy51c2VyID0gZGF0YS5kYXRhDQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcikNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIHRoaXMuJHRvYXN0KHsgbWVzc2FnZTogJ+iOt+WPlueUqOaIt+S/oeaBr+Wksei0pSEnLCBkdXJhdGlvbjogNTAwIH0pDQogICAgICB9DQogICAgfSwNCiAgICBvbkZpbGVDaGFuZ2UgKCkgew0KICAgICAgLyog5LiK5Lyg5paH5Lu2ICovDQogICAgICBjb25zdCBmaWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdDQogICAgICB0aGlzLmltZyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpDQogICAgICB0aGlzLmlzVXBkYXRhUGhvdG9TaG93ID0gdHJ1ZQ0KICAgICAgdGhpcy4kcmVmcy5maWxlLnZhbHVlID0gJycNCiAgICB9DQogIH0sDQogIC8vIOeUn+WRveWRqOacnyAtIOWIm+W7uuWujOaIkO+8iOWPr+S7peiuv+mXruW9k+WJjXRoaXPlrp7kvovvvIkNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5sb2FkVXNlclByb2ZpbGUoKQ0KICB9LA0KICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjlj6/ku6Xorr/pl65ET03lhYPntKDvvIkNCiAgbW91bnRlZCAoKSB7fSwNCiAgYmVmb3JlQ3JlYXRlICgpIHt9LCAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rkuYvliY0NCiAgYmVmb3JlTW91bnQgKCkge30sIC8vIOeUn+WRveWRqOacnyAtIOaMgui9veS5i+WJjQ0KICBiZWZvcmVVcGRhdGUgKCkge30sIC8vIOeUn+WRveWRqOacnyAtIOabtOaWsOS5i+WJjQ0KICB1cGRhdGVkICgpIHt9LCAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvlkI4NCiAgYmVmb3JlRGVzdHJveSAoKSB7fSwgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5LmL5YmNDQogIGRlc3Ryb3llZCAoKSB7fSwgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5a6M5oiQDQogIGFjdGl2YXRlZCAoKSB7fSAvLyDlpoLmnpzpobXpnaLmnIlrZWVwLWFsaXZl57yT5a2Y5Yqf6IO977yM6L+Z5Liq5Ye95pWw5Lya6Kem5Y+RDQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/user-profile","sourcesContent":["<template>\r\n  <div class=\"user-profile\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar title=\"个人中心\" class=\"page-nav-bar\" left-arrow @click-left=\"$router.back()\" />\r\n    <!-- /导航栏 -->\r\n    <!-- 个人信息 -->\r\n    <input type=\"file\" hidden ref=\"file\" @change=\"onFileChange\">\r\n    <van-cell title=\"头像\" value=\"内容\" is-link  @click=\"$refs.file.click()\">\r\n      <van-image class=\"avatar\" :src=\"user.photo\" round/>\r\n    </van-cell>\r\n    <van-cell title=\"昵称\" :value=\"user.name\" is-link @click=\"isUpdataNameShow = true\"/>\r\n    <van-cell title=\"性别\" :value=\"user.gender > 0 ? '女' : '男'\" is-link @click=\"isUpdataGenderShow = true\"/>\r\n    <van-cell title=\"生日\" :value=\"user.birthday\" is-link @click=\"isUpdataDateShow = true\"/>\r\n    <!-- 个人信息 -->\r\n    <!-- 编辑头像 -->\r\n    <van-popup v-model=\"isUpdataPhotoShow\" position=\"bottom\" :style=\"{ height: '100%' }\" >\r\n      <UpdatePhoto :image=\"img\" @close=\"isUpdataPhotoShow = false\" v-if=\"isUpdataPhotoShow\"></UpdatePhoto>\r\n    </van-popup>\r\n    <!-- /编辑头像 -->\r\n    <!-- 编辑昵称弹出层 -->\r\n    <van-popup v-model=\"isUpdataNameShow\" position=\"bottom\" :style=\"{ height: '100%' }\" >\r\n      <UpdateName v-model=\"user.name\" @close=\"isUpdataNameShow = false\" v-if=\"isUpdataNameShow\"></UpdateName>\r\n    </van-popup>\r\n    <!-- /编辑昵称弹出层 -->\r\n\r\n    <!-- 编辑性别 -->\r\n    <van-popup v-model=\"isUpdataGenderShow\" position=\"bottom\" :style=\"{ height: '50%' }\" >\r\n      <UpdateGender v-model=\"user.gender\" @close=\"isUpdataGenderShow = false\" v-if=\"isUpdataGenderShow\"></UpdateGender>\r\n    </van-popup>\r\n    <!-- /编辑性别 -->\r\n    <!-- 编辑日期 -->\r\n    <van-popup v-model=\"isUpdataDateShow\" position=\"bottom\" :style=\"{ height: '50%' }\" >\r\n      <UpdateBirthday v-model=\"user.birthday\" @close=\"isUpdataDateShow = false\" v-if=\"isUpdataDateShow\"></UpdateBirthday>\r\n    </van-popup>\r\n    <!-- /编辑日期 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\nimport { getUserProfile } from '@/api/user'\r\nimport UpdateName from './comments/update-name'\r\nimport UpdateGender from './comments/update-gender'\r\nimport UpdateBirthday from './comments/update-birthday'\r\nimport UpdatePhoto from './comments/update-photo'\r\nexport default {\r\n  name: 'UserProfile',\r\n  components: {\r\n    UpdateName,\r\n    UpdateGender,\r\n    UpdateBirthday,\r\n    UpdatePhoto\r\n  },\r\n  // 定义属性\r\n  model: {},\r\n  props: {},\r\n  data () {\r\n    return {\r\n      user: {}, // 用户的个人信息\r\n      isUpdataNameShow: false, // 昵称弹出层控制位\r\n      isUpdataGenderShow: false,\r\n      isUpdataDateShow: false,\r\n      isUpdataPhotoShow: false,\r\n      img: null\r\n    }\r\n  },\r\n  // 计算属性，会监听依赖属性值随之变化\r\n  computed: {},\r\n  // 监控data中的数据变化\r\n  watch: {},\r\n  // 方法集合\r\n  methods: {\r\n    async loadUserProfile () {\r\n      /* 获取用户的个人信息 */\r\n      try {\r\n        const { data } = await getUserProfile()\r\n        this.user = data.data\r\n        console.log(this.user)\r\n      } catch (error) {\r\n        this.$toast({ message: '获取用户信息失败!', duration: 500 })\r\n      }\r\n    },\r\n    onFileChange () {\r\n      /* 上传文件 */\r\n      const file = this.$refs.file.files[0]\r\n      this.img = window.URL.createObjectURL(file)\r\n      this.isUpdataPhotoShow = true\r\n      this.$refs.file.value = ''\r\n    }\r\n  },\r\n  // 生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {\r\n    this.loadUserProfile()\r\n  },\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {},\r\n  beforeCreate () {}, // 生命周期 - 创建之前\r\n  beforeMount () {}, // 生命周期 - 挂载之前\r\n  beforeUpdate () {}, // 生命周期 - 更新之前\r\n  updated () {}, // 生命周期 - 更新之后\r\n  beforeDestroy () {}, // 生命周期 - 销毁之前\r\n  destroyed () {}, // 生命周期 - 销毁完成\r\n  activated () {} // 如果页面有keep-alive缓存功能，这个函数会触发\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.user-profile{\r\n  .avatar{\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .van-popup{\r\n    background-color: #f5f7f9;\r\n  }\r\n}\r\n</style>\r\n"]}]}